{% extends "expenses/_base.html" %}

{% block title %}Expenses{% endblock title %}
{% block active_page %}expenses{% endblock active_page %}

{% block content %}


<form action="" method="post"> 
{% csrf_token %}
    
<table class="table table-striped table-bordered table-hover table-condensed">
    <thead>
        <tr>
            <th>Id</th>
            <th>Description</th>
            <th>Value</th>
            <th>Date</th>
            <th>Category</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th></th>
            <td>{{ form.description }}{{ form.description.errors }}</td>
            <td>{{ form.value }}{{ form.value.errors }}</td>    
            <td>{{ form.date }}{{ form.date.errors }}</td>
            <td>{{ form.category }}{{ form.category.errors }}</td>
            <td><input class="btn btn-primary" type="submit" name="submit" id="submit" value="add new" /></td>
        </tr>
    {% for object in object_list %}
        <tr>
            <th>{{ object.pk }}</th>
            <td><span style="background-color: #{{ object.color }};">&nbsp;&nbsp;&nbsp;&nbsp;</span> <a href="{% url 'expense_update' object.pk %}">{{ object.description }}</a></td>
            <td>{{ object.value }}</td>    
            <td>{{ object.date }}</td>
            <td><span style="background-color: #{{ object.category.color }};">&nbsp;&nbsp;&nbsp;&nbsp;</span> {{ object.category }}</td>
            <td>
                <a  class="btn btn-small" href="{% url 'expense_update' object.pk %}"><i class="icon-edit"></i> edit</a>
                <a  class="btn btn-small" href="{% url 'expense_delete' object.pk %}"><i class="icon-remove"></i> delete</a>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
</form>

{% include "expenses/_paginator.html" %}

{% endblock content %}